# Tests 层级贡献指南

## 目录定位

- `website/tests` 负责集中管理前端项目的自动化验证资源，确保测试类型分层明确、依赖受控、执行路径清晰。
- 任何新增测试资产都必须遵循“可维护、可组合、可重用”的三原则：
  - **可维护**：文件命名与场景语义一致，必要时配套说明注释。
  - **可组合**：测试数据与工具应保持模块化，避免交叉污染。
  - **可重用**：跨用例共享的能力沉淀为工具函数或公共夹具，而非复制粘贴。

## 子目录职责

### `e2e`

- 存放端到端测试场景，基于 Playwright 等工具模拟真实用户路径。
- 目录内按照业务域划分子目录，并通过页面对象或 DSL 抽象交互逻辑，禁止在用例中直接硬编码选择器。
- 新增场景需提供执行前置与断言策略的简要文档（可放在同名 `README.md`）。

### `mocks`

- 汇总测试桩数据、服务模拟器与网络拦截脚本，服务于 `e2e` 及其他未来的高级测试层。
- 数据文件采用语义化命名，推荐按资源类型与行为拆分子目录，例如 `rest/`、`graphql/`、`fixtures/`。
- 禁止在测试用例内直接定义大段常量数据，统一回收至此目录维护，确保复用与版本化。

## 变更流程

1. 新建或调整目录结构前，先评估是否影响现有测试执行；需要重构时，优先引入过渡期软链接或导出层。
2. 引入新测试类型时，应在此文档补充说明，并同步更新执行脚本（`package.json` 或 CI 配置）。
3. 所有测试资源必须通过 `pnpm test` 或对应命令验证可执行性后再提交。

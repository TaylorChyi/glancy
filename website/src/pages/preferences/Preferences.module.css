/**
 * 背景：
 *  - 账户偏好页面收敛为单列信息卡，需重构样式以契合极简审美与新 DOM 结构。
 * 目的：
 *  - 提供明暗主题自适应的卡片布局，强调层次而避免干扰元素。
 * 关键决策与取舍：
 *  - 通过局部 CSS 变量抽象色板，保持与全站设计令牌的延续性。
 *  - 使用网格与柔性排版确保字段扩展时仍能自然换行。
 * 影响范围：
 *  - 仅 `Preferences` 页面使用的样式，不影响其他模块。
 * 演进与TODO：
 *  - 如需加入安全或账单分组，可复用 detail-grid 并按组增加分隔样式。
 */

.content {
  --preferences-surface: var(--night-panel);
  --preferences-border: var(--night-border);
  --preferences-muted: var(--night-muted);
  --preferences-text: var(--night-text);
  --preferences-shadow: 0 42px 96px rgb(0 0 0 / 44%);
  --preferences-accent: var(--night-active);

  display: flex;
  justify-content: center;
  width: 100%;
  padding: 72px 24px 96px;
  box-sizing: border-box;
  background: transparent;
}

:global(:root[data-theme="light"]) .content {
  --preferences-surface: var(--neutral-0);
  --preferences-border: color-mix(in srgb, var(--neutral-900) 12%, transparent);
  --preferences-muted: color-mix(in srgb, var(--neutral-900) 48%, transparent);
  --preferences-text: var(--neutral-900);
  --preferences-shadow: 0 48px 96px rgb(15 17 21 / 14%);
  --preferences-accent: rgb(15 17 21 / 6%);
}

:global(:root[data-theme="system"]) .content {
  --preferences-surface: var(--sidebar-panel, var(--night-panel));
  --preferences-border: var(--sidebar-border-color, var(--night-border));
  --preferences-muted: var(--sidebar-muted-color, var(--night-muted));
  --preferences-text: var(--sidebar-text-color, var(--night-text));
  --preferences-shadow: var(
    --sidebar-shadow-elevated,
    0 42px 96px rgb(0 0 0 / 44%)
  );
  --preferences-accent: var(--sidebar-active-bg, var(--night-active));
}

.form {
  display: flex;
  flex-direction: column;
  gap: 48px;
  width: min(720px, 100%);
  padding: 56px 56px 48px;
  border-radius: 32px;
  border: 1px solid var(--preferences-border);
  background: var(--preferences-surface);
  color: var(--preferences-text);
  box-shadow: var(--preferences-shadow);
  box-sizing: border-box;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 32px;
  flex-wrap: wrap;
}

.identity {
  display: flex;
  align-items: center;
  gap: 24px;
  min-width: 0;
}

.avatar {
  border-radius: 50%;
}

.identity-meta {
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-width: 0;
}

.eyebrow {
  margin: 0;
  font-size: 12px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--preferences-muted);
}

.title {
  margin: 0;
  font-size: 32px;
  line-height: 1.2;
  font-weight: 600;
}

.description {
  margin: 0;
  max-width: 520px;
  color: var(--preferences-muted);
  line-height: 1.6;
}

.plan-badge {
  align-self: flex-start;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 999px;
  background: var(--preferences-accent);
  color: var(--preferences-text);
  font-size: 13px;
  font-weight: 500;
}

.manage-button {
  padding: 12px 22px;
  border-radius: 999px;
  border: 1px solid var(--preferences-border);
  background: transparent;
  color: inherit;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  transition:
    background 160ms ease,
    color 160ms ease,
    transform 160ms ease,
    border-color 160ms ease;
}

.manage-button:hover {
  background: var(--preferences-accent);
  transform: translateY(-1px);
}

.manage-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px
    color-mix(in srgb, var(--preferences-text) 28%, transparent);
}

.section {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.detail-grid {
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
  list-style: none;
}

.detail-item {
  display: grid;
  gap: 8px;
  padding: 20px 22px;
  border-radius: 20px;
  border: 1px solid var(--preferences-border);
  background: color-mix(in srgb, var(--preferences-surface) 78%, transparent);
}

.detail-label {
  margin: 0;
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--preferences-muted);
}

.detail-value {
  margin: 0;
  font-size: 18px;
  font-weight: 500;
  line-height: 1.4;
  color: var(--preferences-text);
  overflow-wrap: anywhere;
}

.footer {
  display: flex;
  justify-content: flex-end;
}

.footer-note {
  margin: 0;
  max-width: 360px;
  font-size: 13px;
  line-height: 1.6;
  color: var(--preferences-muted);
  text-align: right;
}

@media (width <= 768px) {
  .form {
    padding: 40px 28px 36px;
    gap: 36px;
  }

  .identity {
    flex-direction: column;
    align-items: flex-start;
  }

  .header {
    gap: 24px;
  }

  .title {
    font-size: 28px;
  }

  .detail-grid {
    grid-template-columns: 1fr;
  }

  .footer {
    justify-content: flex-start;
  }

  .footer-note {
    text-align: left;
  }
}

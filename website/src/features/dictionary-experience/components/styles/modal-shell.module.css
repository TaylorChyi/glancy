/**
 * 背景：
 *  - 从 src/features/dictionary-experience/components/ReportIssueModal.module.css 拆分出的样式片段，聚焦 modal-shell 的局部结构。
 * 目的：
 *  - 维持原有声明顺序同时降低单文件体积，便于渐进式梳理。
 * 关键决策与取舍：
 *  - 通过自动拆分避免手工复制引入的人为回归；
 *  - 保留原注释与排版，确保比对差异时信息完整。
 * 影响范围：
 *  - 词典体验问题上报模态 中引用的 className 映射。
 * 演进与TODO：
 *  - TODO: 后续可进一步语义化命名或抽离为 tokens。
 */

.modal-shell {
  /*
   * 为举报弹窗提供独立的色彩令牌，既强化层级感，也避免影响共用的 modal-content 基线样式。
   */
  --report-modal-surface: color-mix(
    in srgb,
    var(--app-bg) 90%,
    var(--color-surface-alt)
  );

  /*
   * 复用 SettingsSurface 的边框对比度，确保举报弹窗与偏好设置面板在视觉上保持一致的厚度与明暗层级。
   * 备选方案：单独定义举报弹窗的色板，但会造成主题维护分叉，故放弃。
   */
  --report-modal-border: color-mix(
    in srgb,
    var(--border-color) 64%,
    transparent
  );
  --report-modal-shadow: 0 48px 120px
    color-mix(in srgb, var(--shadow-color) 32%, transparent);
  --report-modal-inner-surface: color-mix(
    in srgb,
    var(--preferences-panel-surface, var(--app-bg)) 94%,
    transparent
  );
  --report-modal-inner-border: color-mix(
    in srgb,
    var(--preferences-panel-border, var(--border-color)) 58%,
    transparent
  );
  --report-modal-inner-shadow: 0 36px 96px
    color-mix(in srgb, var(--shadow-color) 24%, transparent);

  /*
   * 通过单独的留白令牌统一内边距尺度，既方便未来接入响应式调整，也能在保证 SettingsSurface 宽度约束的同时，
   * 为模态与内容体之间预留更充裕的呼吸空间。
   * 备选方案：直接调整 SettingsSurface 的 width 或 margin，但那会破坏组件在其他上下文下的尺寸语义，故弃用。
   */
  --report-modal-gutter: clamp(var(--space-6), 7vw, var(--space-9));

  /*
   * 面板描边与内部栅格存在视觉贴合问题，此处通过新增 padding 令牌来保证边界与内容之间的安全距离，
   * 并保留在未来根据不同交互密度快速调参的可能性。
   * 备选方案：改动 SettingsSurface 的默认 padding，但那会影响所有复用场景，风险不可接受。
   */
  --report-modal-panel-padding: clamp(var(--space-5), 5.4vw, var(--space-7));

  /*
   * 依据订阅面板的新版视觉规范，压缩圆角以强调面板的建筑感，
   * 同时通过提升描边对比度（外层 64%、内层 58%）让层级关系更清晰。
   * 备选方案：保留旧描边（46%）但改圆角，测试后发现会让面板显得浮，故弃用。
   */
  --report-modal-radius: var(--radius-xl, 20px);
}

:global(.modal-content).modal-shell {
  background: var(--report-modal-surface);
  color: var(--preferences-panel-text, var(--color-text));
  border-radius: var(--report-modal-radius);
  border: 1px solid var(--report-modal-border);
  box-shadow: var(--report-modal-shadow);
}

.plain-surface {
  /*
   * 将 SettingsSurface 的底色与描边全部抽离，
   * 让模态最外层负责分隔背景，表单主体转而强调内容信息密度。
   * 备选方案：保留轻微描边，但在设计评审中确认会与外层模态产生双重边框，因而弃用。
   */
  background: transparent;
  border-radius: var(--report-modal-radius);
  border: none;
  box-shadow: none;
  padding: var(--report-modal-panel-padding);
}

.header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(var(--space-2), 2.4vw, var(--space-3));
  padding-bottom: clamp(var(--space-3), 3vw, var(--space-4));
}

.header-close {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: clamp(36px, 6vw, 44px);
  height: clamp(36px, 6vw, 44px);
  border-radius: var(--radius-xl);
  border: 1px solid transparent;
  background: transparent;
  color: var(--preferences-panel-text, var(--color-text));
  font-size: clamp(20px, 3vw, 22px);
  line-height: 1;
  cursor: pointer;
  transition:
    border-color 160ms ease,
    transform 160ms ease,
    box-shadow 160ms ease;
}

.header-close:hover {
  border-color: color-mix(
    in srgb,
    var(--preferences-panel-ring, var(--highlight-color)) 45%,
    transparent
  );
  transform: translateY(-1px);
}

.header-close:focus-visible {
  outline: none;
  border-color: var(--preferences-panel-ring, var(--highlight-color));
  box-shadow: 0 0 0 3px
    color-mix(
      in srgb,
      var(--preferences-panel-ring, var(--highlight-color)) 28%,
      transparent
    );
}

.header-title {
  margin: 0;
  font-size: clamp(var(--text-xl), 3vw, var(--text-2xl));
  font-weight: var(--font-bold);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  text-align: center;
  color: var(--preferences-panel-text, var(--color-text));
}

.header-spacer {
  display: inline-flex;
  width: clamp(36px, 6vw, 44px);
  height: clamp(36px, 6vw, 44px);
}

.summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: clamp(var(--space-3), 3vw, var(--space-5));
  margin: 0;
  padding: clamp(var(--space-3), 3vw, var(--space-4));
  border-radius: var(--radius-xl);
  border: 1px solid
    color-mix(
      in srgb,
      var(--preferences-panel-border, var(--border-color)) 55%,
      transparent
    );
  background: color-mix(
    in srgb,
    var(--preferences-panel-surface, var(--app-bg)) 92%,
    transparent
  );
}

.summary-item {
  display: grid;
  gap: var(--space-1);
  align-content: start;
  min-width: 0;
}

.summary-label {
  margin: 0;
  font-size: var(--text-xs);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: color-mix(
    in srgb,
    var(--preferences-panel-muted, var(--color-text)) 76%,
    transparent
  );
}

# 偏好设置页面目录军规

## 目录规划原则

- **页面主入口（`index.jsx`）**：承载路由接入点与页面骨架，只组合已经定义好的偏好分区组件，禁止在此直接编排业务副作用。若未来需要新增全局 Provider，请在此说明装配顺序与依赖关系。
- **局部状态钩子（`usePreferenceSections.js`）**：集中维护页面分区的配置数据与调度逻辑，对外输出明确的读取与操作接口。调整时务必保持纯函数化，避免引入难以复用的单例状态。
- **样式声明（`Preferences.module.css`）**：仅暴露页面级容器和布局相关的样式原子，避免在此耦合组件级样式，保持样式隔离与可组合性。

## 子目录职责

- `sections/`
  - 用于存放偏好设置页面的各个功能分区组件，实现职责内聚、按需加载的结构。
  - 每个分区组件需提供自解释的 `index.tsx|jsx` 作为导出入口，并在组件头部说明与共享能力或领域模型的关系。
  - 新增分区时，请同步在 `usePreferenceSections.js` 中登记元数据，以保持页面装配的一致性。
- `hooks/`
  - 承载偏好设置页面的领域级 Hook、策略函数与展示文案生成逻辑，确保主入口仅负责装配。
  - 新增 Hook 时需提供文件头注释说明上下文与扩展点，并优先输出纯函数或可组合接口。
- `__tests__/`
  - 存放覆盖偏好设置页面的集成级与重要交互测试，文件命名需体现 Given/When/Then 语义。
  - 测试需通过页面公开接口或用户交互驱动，禁止直接依赖内部实现细节，以保障重构时的安全边界。

> 若需新增子目录，请在此文件补充其定位、与现有结构的协作方式以及替代方案评估，确保目录演进可追溯。

# core/history 模块军规

- 该目录承载历史记录领域模型与策略，必须保持与 UI 层解耦，仅暴露纯函数或无状态类，禁止直接访问 React 组件或 DOM。
- 新增文件需在文件头注释中记录背景、所采用的设计模式及备选方案的取舍，确保演进路径清晰。
- 引入新的策略或模板方法实现时，务必在对应测试中覆盖成功路径与至少一个失败/降级分支。
- 所有导出需通过 `index.ts` 进行集中管理，避免上层引用具体实现细节造成耦合。

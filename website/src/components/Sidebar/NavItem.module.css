.item {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: var(--sidebar-item-gap, 12px);

  /* 保持默认高度基准，同时允许多行模式扩展 */
  min-height: var(--sidebar-item-h);
  padding: 0 var(--sidebar-pad-x);
  padding-left: calc(var(--sidebar-pad-x) + 3px);
  border: 0;
  border-radius: var(--sidebar-radius);
  background: transparent;
  color: var(--sidebar-color, var(--text));
  font-size: var(--item-size);
  font-weight: var(--item-weight);
  line-height: 1;
  text-align: left;
  text-decoration: none;
  cursor: pointer;
  position: relative;
  min-width: 0;
  user-select: none;
  transition:
    background-color 160ms ease,
    color 160ms ease,
    opacity 160ms ease;
}

.item::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: 3px;
  border-radius: 0 2px 2px 0;
  background: var(--sidebar-accent, var(--accent));
  opacity: 0;
  transform: scaleY(0.6);
  transform-origin: center;
  transition:
    opacity 160ms ease,
    transform 160ms ease;
}

.item:hover,
.item:focus-visible {
  background: var(--sidebar-hover-bg, var(--hover));
}

.item:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px
    color-mix(in srgb, var(--sidebar-accent, var(--accent)) 40%, transparent)
    inset;
}

.active,
.item[aria-current="page"] {
  background: var(--sidebar-active-bg, var(--active));
  color: var(--sidebar-color, var(--text));
}

.active::before,
.item[aria-current="page"]::before {
  opacity: 1;
  transform: scaleY(1);
}

/*
 * 背景：
 *  - 词典等入口在深浅主题下需要同步切换图标前景色，原先通过固定 muted 色值导致与文字断层。
 * 目的：
 *  - 让图标默认继承容器 currentColor，保持与标签文字一致，同时保留变量扩展能力以便未来覆盖。
 */
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--sidebar-icon-size);
  height: var(--sidebar-icon-size);
  color: var(--sidebar-icon-color, currentColor);
  flex: 0 0 auto;
}

:is(.item:hover, .item:focus-visible, .active, .item[aria-current="page"])
  .icon {
  color: currentcolor;
}

.label {
  flex: 1 1 auto;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/*
 * 背景：
 *  - 搜索历史存在长度不定的词条，单行截断会导致信息缺失，影响复查与复用体验。
 *  - 旧实现使用 flex-start，使单行内容贴顶且与设计稿的居中节奏不符。
 * 目的：
 *  - 在保持默认单行样式的同时提供显式的多行模式，必要时允许内容扩展且不侵扰其他入口。
 *  - 通过变量化的对齐策略，默认居中呈现词条，保持视觉平衡，同时预留回退空间。
 * 关键决策与取舍：
 *  - 通过额外类控制高度、换行与对齐，避免在组件中直接写条件样式，便于未来扩展更多布局策略。
 * 影响：
 *  - 仅作用于启用多行模式的入口，对默认导航项无影响。
 */
.item-multiline {
  align-items: var(--sidebar-multiline-align-items, center);
  padding-top: var(--sidebar-multiline-pad-y, 8px);
  padding-bottom: var(--sidebar-multiline-pad-y, 8px);
}

.item-multiline .label {
  display: flex;
  flex-direction: column;
  justify-content: var(--sidebar-multiline-justify, center);
}

.label-multiline {
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  overflow-wrap: anywhere;
}

.description {
  display: block;
  font-size: calc(var(--item-size) - 2px);
  color: var(--sidebar-muted-color, var(--muted));
}

.muted {
  color: var(--sidebar-muted-color, var(--muted));
}

.muted:hover,
.muted:focus-visible,
.muted.active,
.muted.item[aria-current="page"] {
  color: var(--sidebar-color, var(--text));
}

.flat {
  background: transparent;
}

.flat:hover,
.flat:focus-visible {
  background: var(--sidebar-hover-bg, var(--hover));
}

.flat::before {
  display: none;
}

.flat-active {
  background: transparent;
  color: var(--sidebar-color, var(--text));
}

.flat-active:hover,
.flat-active:focus-visible {
  background: var(--sidebar-active-bg, var(--active));
}

.flat-active::before {
  opacity: 0;
  transform: scaleY(0.6);
}

.flat.item[aria-current="page"],
.flat-active.item[aria-current="page"] {
  background: transparent;
  color: var(--sidebar-color, var(--text));
}

.flat.item[aria-current="page"]:hover,
.flat.item[aria-current="page"]:focus-visible,
.flat-active.item[aria-current="page"]:hover,
.flat-active.item[aria-current="page"]:focus-visible {
  background: var(--sidebar-active-bg, var(--active));
}

.flat.item[aria-current="page"]::before,
.flat-active.item[aria-current="page"]::before {
  opacity: 0;
  transform: scaleY(0.6);
}

<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 https://maven.apache.org/xsd/settings-1.0.0.xsd">

  <!-- 将本地仓库固定到工作区，提升容器内命中率 -->
  <localRepository>/workspace/.m2/repository</localRepository>

  <!-- 不再配置任何第三方镜像，避免 DNS/网络不可达 -->
  <mirrors>
    <!-- 可选：当 Central 不可达时，手动切换到 secondary（repo1），默认不启用 -->
    <!--
    <mirror>
      <id>central-secondary</id>
      <name>Central Secondary (repo1)</name>
      <url>https://repo1.maven.org/maven2/</url>
      <mirrorOf>central</mirrorOf>
    </mirror>
    -->
  </mirrors>

  <!-- 显式声明 Central 仓库与插件仓库 -->
  <profiles>
    <profile>
      <id>central-only</id>

      <repositories>
        <repository>
          <id>central</id>
          <url>https://repo.maven.apache.org/maven2/</url>
          <releases><enabled>true</enabled></releases>
          <snapshots><enabled>false</enabled></snapshots>
        </repository>
      </repositories>

      <pluginRepositories>
        <pluginRepository>
          <id>central-plugins</id>
          <url>https://repo.maven.apache.org/maven2/</url>
          <releases><enabled>true</enabled></releases>
          <snapshots><enabled>false</enabled></snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
  </profiles>

  <activeProfiles>
    <activeProfile>central-only</activeProfile>
  </activeProfiles>

  <proxies>\
    <proxy>\
      <id>defaultProxy</id>\
      <active>true</active>\
      <protocol>http</protocol>\
      <host>proxy</host>\
      <port>8080</port>\
    </proxy>\
    <proxy>\
      <id>defaultSecureProxy</id>\
      <active>true</active>\
      <protocol>https</protocol>\
      <host>proxy</host>\
      <port>8080</port>\
    </proxy>\
  </proxies>
</settings>
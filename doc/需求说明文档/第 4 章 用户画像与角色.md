# 第 4 章 用户画像与角色

## 4.1 目标与范围

本章定义 Glancy 在 MVP 阶段面向的核心用户画像、系统角色与权限矩阵，并明确画像字段、采集与使用原则，以及围绕“查询即理解”的关键场景与成功判据。画像与角色设计须与语言对白名单（L1–L4）、订阅档位（普通/Plus/Pro）、历史留存与数据控制、输出模块与详略级别等既有约束一致。

------

## 4.2 用户分层（按语言水平与目标）

结合 CEFR 与目标动机，将用户按“水平×目标”二元分层，用于默认输出策略与界面简化。

| 分层 | 水平（CEFR） | 典型目标           | 默认译文策略                   | 输出详略基线 | 模块权重（高→低）                                            |
| ---- | ------------ | ------------------ | ------------------------------ | ------------ | ------------------------------------------------------------ |
| 入门 | A1–A2        | 日常交流、旅行入门 | 显示译文（同语模式除外）       | 中           | 释义与义项、个性化例句、常见搭配、同/反义、派生              |
| 进阶 | B1–B2        | 学业/职场阅读写作  | 显示译文；可关闭               | 中           | 释义与义项、个性化例句、常见搭配、派生、同/反义              |
| 高阶 | C1–C2        | 学术/专业场景      | 默认不依赖译文（同语模式优先） | 短           | 释义与义项、搭配与固定搭配、派生、同/反义、例句（学术/商务风格） |

> 详略级别与字符上限遵循统一基线；档位越高，可定制能力越强。

------

## 4.3 核心用户画像（Persona 卡片）

### P1 学生应试型（Exam-Focused Learner）

- **背景**：高中/本科生，准备 CET、IELTS/TOEFL 等；移动端使用为主。
- **主要语言对**：en↔zh（L1/L2），偶尔 en→en（L3）。
- **动机/目标**：查义项、掌握高频搭配与固定搭配，获取贴合考题语域的例句。
- **关键任务**：UC-01 查词、UC-02 再生成、UC-03 难度与风格切换、UC-07 导出错题词表。
- **默认配置**：译文开启；例句风格偏“学术/考试”；详略“中”。
- **档位倾向**：普通/Plus。
- **成功判据**：首屏 P95 ≤ 2.5 s；例句可理解度正反馈≥80%；导出 ≤ 5 s。

### P2 职场阅读型（Workplace Reader）

- **背景**：0–5 年从业者，频繁阅读英文邮件/资料；Web 与 H5 混用。
- **主要语言对**：en→zh（L2）、en→en（L3）。
- **动机/目标**：快速判义、获取商务语域例句；减少上下文误读。
- **关键任务**：UC-01 查词、UC-03 风格切换为“商务/书面”、UC-10 模块顺序个性化。
- **默认配置**：译文开启；例句 1–3 条；常见搭配优先展示。
- **档位倾向**：Plus。
- **成功判据**：端到端平均 ≤ 1.2 s；历史检索与导出 ≤ 5 s。

### P3 学术深度型（Academic Power User）

- **背景**：研究生/研究人员；重视术语一致与语域准确。
- **主要语言对**：en→en（L3）主用，en→zh（L2）备用。
- **动机/目标**：掌握词族与派生、学术搭配；定制模块详略与顺序。
- **关键任务**：UC-01 查词、UC-10 模块高级自定义、UC-02 再生成（更难）、UC-08 历史清理策略配置。
- **默认配置**：同语模式，不显示译文；详略“短”；派生与词族上移。
- **档位倾向**：Pro。
- **成功判据**：结构化输出正确率≥99%；词条级记忆偏好生效。

### P4 旅行/日常型（Traveler & Casual）

- **背景**：低频学习者，短期需求集中。
- **主要语言对**：zh→en（L1）、en→zh（L2）。
- **动机/目标**：即时理解；例句口语化，避免冗长解释。
- **关键任务**：UC-01、UC-03 风格切换为“口语”、UC-04 快速切换语言对。
- **默认配置**：译文开启；例句偏口语与场景化；详略“短”。
- **档位倾向**：普通。
- **成功判据**：单次查词行为≤2 步完成；无痕查询可用。

> 注：年龄层次与考试信息仅用于匹配，不对外展示；符合最小化采集与用户可撤回同意原则。

------

## 4.4 系统角色与权限矩阵（RBAC）

面向产品内外部使用者定义最小可行角色集合与能力边界。

### 4.4.1 角色定义

- **R1 注册用户（Basic）**：已登录未订阅或已过期用户。
- **R2 订阅用户 Plus**：具备 Plus 档权益。
- **R3 订阅用户 Pro**：具备 Pro 档权益与词条级记忆偏好。
- **R4 运营管理员（Ops Admin）**：处理订阅对账、退款与工单。
- **R5 合规审计员（Compliance Auditor）**：访问审计日志与留存策略配置，仅限脱敏与元数据级访问。
- **R6 系统管理员（System Admin）**：平台级配置、限流策略与子处理者清单维护。

### 4.4.2 权限矩阵（节选）

| 能力项                       | R1 Basic          | R2 Plus                 | R3 Pro                  | R4 Ops Admin   | R5 Auditor       | R6 SysAdmin        |
| ---------------------------- | ----------------- | ----------------------- | ----------------------- | -------------- | ---------------- | ------------------ |
| 词条查询（受日配额）         | 30 次/d           | 100 次/d                | 500 次/d                | —              | —                | —                  |
| 个性化例句条数               | 固定 1            | 1–3 可调                | 1–5 可调                | —              | —                | —                  |
| 再生成日配额                 | 1                 | 10                      | 20                      | —              | —                | —                  |
| 模块自定义（开关/顺序/详略） | 基础开关          | 高级自定义              | 高级自定义+词条级偏好   | —              | —                | —                  |
| 历史留存与导出               | 10 d /100 条；CSV | 90 d /1000 条；CSV/JSON | 永久；CSV/JSON 条件过滤 | 脱敏聚合可见   | 元数据与日志只读 | 策略配置           |
| 无痕查询                     | 允许              | 允许                    | 允许                    | —              | —                | —                  |
| 订阅与账单                   | 查看/续费/升级    | 管理自身                | 管理自身                | 处理对账与退款 | —                | 配置档位矩阵       |
| 审计日志访问                 | —                 | —                       | —                       | 自身操作留痕   | 只读（脱敏）     | 全量（含权限变更） |
| 限流与配额策略               | —                 | —                       | —                       | —              | 只读             | 配置/发布          |

> 所有角色的访问均遵循最小权限原则；涉及用户数据的后台查看一律脱敏，并与“删除语义/物理清理”时间窗对齐。

------

## 4.5 画像字段、采集与使用规则

### 4.5.1 字段清单与口径

与第 1 章术语与分层保持一致，以下字段为**单一事实源**；前端本地缓存+后端存储，支持导出与删除。

| 字段                            | 类型                              | 采集方式          | 必填 | 默认值   | 用途                   | 留存与清理             |
| ------------------------------- | --------------------------------- | ----------------- | ---- | -------- | ---------------------- | ---------------------- |
| 学习目标（多选排序）            | 列表                              | 用户填写          | 否   | 日常交流 | 例句语域控制、模块权重 | 随账户存储；按删除策略 |
| 专业背景（多选排序）            | 列表                              | 用户填写          | 否   | 其他     | 术语倾向、搭配排序     | 同上                   |
| 当前水平                        | 枚举（CEFR/IELTS/TOEFL/CET/自评） | 用户填写          | 否   | 自评 5   | 可读性映射、详略裁剪   | 同上                   |
| 语言对偏好                      | 枚举（L1–L4）                     | 用户填写/自动记忆 | 否   | L2       | 默认查询语言对         | 同上                   |
| 风格标签（语域/体裁/语气/主题） | 列表（上限随档位）                | 用户填写          | 否   | 空       | 例句生成风格           | 同上                   |
| 历史行为特征                    | 统计特征                          | 系统计算          | 否   | 空       | 结果排序与缓存命中     | 随历史留存上限滚动清理 |

> 数据采集最小化；用户可随时撤回同意、关闭历史留存或启用无痕查询。

### 4.5.2 画像生效与更新时机

- **初始化**：首次登录引导，提供最少必填与可跳过选项。
- **运行时覆盖**：结果页的“难度/风格/条数/语言对”变更仅对本次查询与同词条会话生效，可选择“设为默认”。
- **离线回写**：当用户勾选“设为默认”，将更新画像与偏好。
- **清理一致性**：逻辑删除即时可见；物理清理 T+7 d。画像字段不保留被清理历史中的敏感原文。

------

## 4.6 关键用户旅程（主路径）

| 阶段       | 用户动作                             | 系统行为                                   | 成功判据                        | 常见风险与对策                |
| ---------- | ------------------------------------ | ------------------------------------------ | ------------------------------- | ----------------------------- |
| 首次使用   | 登录并同意条款，快速设置水平与语言对 | 创建账户、应用默认档位与语言对；本地化界面 | ≤2 分钟完成；跳过后可随时补充   | 过度表单→仅保留关键 2–3 项    |
| 日常查词   | 输入单词/词组                        | LID 检测、命中缓存、生成或降级兜底         | 首屏 P95 ≤2.5 s；结构化渲染稳定 | 句子输入→前端拦截与引导词组   |
| 调整输出   | 切换难度/风格、再生成                | 更新生成参数，记忆偏好（依据档位）         | 交互≤2 步；再生成不超配额       | 超配额→明确剩余额度与恢复时点 |
| 历史与导出 | 按语言筛选、导出 CSV/JSON            | 生成一次性链接（TTL 10 分钟）              | ≤5 s 返回回执与链接             | 大量导出→分页与异步任务       |
| 升级订阅   | 从 Basic→Plus/Pro                    | 调整配额与能力矩阵                         | 权限即时生效、无缝继续          | 对账失败→回滚与提示重试       |
| 数据清理   | 启用无痕或清空历史                   | 逻辑删除即刻；物理清理 T+7 d               | 用户可见为空且可撤销窗口明确    | 误操作→二次确认与恢复窗口说明 |

> 降级/熔断时回退到基础释义与模板例句，并在 UI 显示退化提示。

------

## 4.7 画像驱动的默认模块优先级与详略

结合 4.2 的分层，给出默认渲染策略（用户可在 Plus/Pro 中自定义）。

| Persona/分层               | 模块优先级（高→低）                                          | 详略 |
| -------------------------- | ------------------------------------------------------------ | ---- |
| P1 学生应试型（入门/进阶） | 释义与义项 → 个性化例句 → 常见搭配 → 同/反义 → 派生          | 中   |
| P2 职场阅读型（进阶）      | 释义与义项 → 常见搭配 → 个性化例句（商务）→ 派生 → 同/反义   | 中   |
| P3 学术深度型（高阶）      | 释义与义项 → 搭配/固定搭配 → 派生与词族 → 同/反义 → 例句（学术） | 短   |
| P4 旅行/日常型（入门）     | 释义与义项 → 个性化例句（口语）→ 常见搭配 → 同/反义 → 派生   | 短   |

> 同语模式（en→en、zh→zh）默认不显示译文；可临时开启。

------

## 4.8 场景优先级与 UC 对齐（供第 5 章引用）

- **优先级 P0**：UC-01 查词、UC-03 难度/风格切换、UC-02 再生成、UC-04 语言对切换。
- **优先级 P1**：UC-05 登录/第三方登录、UC-06 订阅开通/续费/降级、UC-08 历史清理、UC-07 导出。
- **优先级 P2**：UC-09 无痕查询、UC-10 模块顺序与详略自定义、UC-11 词条级记忆偏好（Pro）。

> 需求编号与优先级遵循文档约定（Must/Should/Could/Will not）。

------

## 4.9 非目标用户与边界

- **非目标**：长文本翻译/批量翻译、学术改写/润色、系统性背诵与复习闭环、非白名单语言对、整句输入。
- **原因**：与 MVP“查询即理解”的目标不符或超出能力与合规边界。
- **处理**：对非白名单或整句输入，前端提示改为词或词组；必要时拒绝并给出原因。

------

## 4.10 成功指标（Persona 级）

| Persona     | 关键指标（继承 1.6）                   | 目标         |
| ----------- | -------------------------------------- | ------------ |
| 学生应试型  | 例句可理解度正反馈；导出耗时           | ≥80%；≤5 s   |
| 职场阅读型  | 首屏平均渲染；再生成成功率             | ≤1.2 s；≥98% |
| 学术深度型  | 结构化正确率；词条级偏好命中率         | ≥99%；≥95%   |
| 旅行/日常型 | 查询转化（完成率）；无痕查询使用成功率 | ≥95%；≥99%   |

------

## 4.11 验证与交付物（面向验收与测试编制）

- **画像引导**：首次登录可跳过；跳过后默认按进阶层级与 L2 语言对，用户可在设置中修改。
- **同语模式**：en→en/zh→zh 默认不显示译文；切换语言对后即时生效。
- **档位能力**：Plus/Pro 的自定义能力与配额与订阅矩阵一致，升级后权限即时生效、降级后边界同步。
- **数据控制**：历史留存、导出、无痕与清理遵循“逻辑删除即时、物理清理 T+7 d、下载链接 TTL 10 分钟”。
- **RBAC**：后台访问一律脱敏，操作有审计记录，权限变更需双人复核。

------

> 本章为后续第 5 章“业务流程与用例”、第 6–7 章“功能/非功能需求”、第 13–15 章“安全/可用性/可观测性”提供统一的用户与权限基线。
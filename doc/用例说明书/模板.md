# 用例说明书模板（Use Case Specification Baseline）

> 对应 SRS：第 4 章《业务流程与用例》、第 8 章《接口与数据契约（APISchema）》、第 20 章《验收标准与测试方案》。填写时请引用章节编号、FR/BR/AC ID，确保 UC→FR→AC 可追溯。

## 字段与 SRS 对照

| 模板字段       | 对应 SRS 章节                        | 填写提示 |
| -------------- | ------------------------------------ | -------- |
| 基本信息       | 第 4 章 4.1–4.2 / 第 20 章 20.2       | UC ID、名称、所属模块、优先级、版本；需与 README 对齐。 |
| 目的           | 第 4 章 4.2–4.5                       | 描述业务目标、受益角色、关键 KPI。 |
| 参与者         | 第 4 章 4.1                           | 列出 Primary / Supporting / External 角色，与泳道保持一致。 |
| 前置条件       | 第 4 章 4.2 / 4.3                     | 系统状态、配额、登录态、白名单等必要条件。 |
| 触发           | 第 4 章 4.2                            | 明确用户动作或系统事件，引用流程步骤号。 |
| 主成功场景     | 第 4 章 4.2–4.5                       | Happy Path，按 1…n 列出，必要时嵌入缓存/熔断/画像逻辑。 |
| 备选/异常流    | 第 4 章 4.2–4.5                       | 以 2a、3b 等格式列出分支、错误码、兜底策略。 |
| 后置条件       | 第 4 章 4.2 / 4.3                     | 状态更新、配额消耗、通知/回执、审计记录。 |
| 业务规则       | 第 4 章 4.2 / 4.6                     | 引用 BR/FR/订阅矩阵、限流或隐私要求。 |
| 数据契约引用   | 第 8 章 8.1–8.9                       | 列出 API（如 API-001）、Schema（如 `glancy.dict.v1`）。 |
| 非功能约束     | 第 20 章 20.3–20.5                    | 性能、可用性、降级、合规等门槛，必要时引用 NFR ID。 |
| AC（验收标准） | 第 20 章 20.3–20.17                   | Given/When/Then 或条列式，关联测试用例 ID（如 TC-API-001）。 |
| 备注           | 第 4 章 4.7–4.8 / 第 20 章 20.14      | 补充监控、日志、风险、依赖或 TODO。 |

---

## 基本信息
- `UC ID`：
- `用例名称`：
- `所属模块 / 史诗`：
- `优先级`：P0 / P1 / P2 （需与 `README.md` 中一致）
- `版本 / 修订记录`：示例 `v1.0（2024-05-01，@owner）`

## 1. 目的（SRS 第 4 章）
> 描述该 UC 的业务目标、触达角色、关联 KPI 或 OKR。

## 2. 参与者（SRS 第 4 章 4.1）
- Primary：
- Supporting：
- External Systems：

## 3. 前置条件（SRS 第 4 章 4.2 / 4.3）
- 条件 1
- 条件 2

## 4. 触发（SRS 第 4 章 4.2）
- 用户动作 / 定时任务 / 回调事件

## 5. 主成功场景（SRS 第 4 章 4.2–4.5）
1. 步骤 1
2. 步骤 2
3. …

## 6. 备选 / 异常流（SRS 第 4 章 4.2–4.5）
- 2a 条件 → 结果 / 跳转 UC-XX
- 3b 条件 → 结果 / 错误码

## 7. 后置条件（SRS 第 4 章 4.2 / 4.3）
- 状态 / 数据库变化
- 配额 / 缓存 / 通知

## 8. 业务规则（SRS 第 4 章 4.2 / 4.6）
- BR-XX：描述（引用订阅矩阵、限流、隐私等）
- FR 映射：UC → FR 列表（如 FR-01、FR-02）

## 9. 数据契约引用（SRS 第 8 章 8.1–8.9）
- API-XXX：`METHOD /path`，字段约束
- Schema：`glancy.dict.v1.DictResult`、`history.exportReceipt` 等

## 10. 非功能约束（SRS 第 20 章 20.3–20.5）
- 性能：P95 ≤ … s；流式丢段率 ≤ …
- 可用性 / 降级：熔断条件、兜底策略
- 安全 / 合规：TLS、日志脱敏、审计保留等

## 11. 验收标准 AC（SRS 第 20 章 20.3–20.17）
- Given … When … Then …
- AC-XX：描述并引用测试用例（如 `TC-API-001`）

## 12. 备注（SRS 第 4 章 4.7–4.8 / 第 20 章 20.14）
- 观测指标、事件代码、Runbook 链接、已知风险
